(()=>{"use strict";var r={373:(e,t,r)=>{r.r(t)},692:(e,t,r)=>{r.r(t)},71:(e,t,r)=>{r.r(t)},443:(e,t,r)=>{r.r(t)},23:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(297)),u=r(79),o=r(76),l=r(377),i=n(r(876)),c=r(848),l={addRow:l.addRow};t.default=u.connect(function(e){return{matrix:e.matrix.matrix}},l)(function(e){var t=e.addRow,r=e.matrix;e=function(e){t(function(e,t){void 0===e&&(e=c.N);for(var r=[],n=0;n<e;n++){var a=Math.floor(1001*Math.random());r[n]={id:t+"x"+n,amount:a,bright:!1,part:!1}}return r}(c.N,r.length))};try{return r.length?a.default.createElement("div",{className:"container"},a.default.createElement(i.default,null),a.default.createElement(o.AddRow,{addRowHandle:e})):a.default.createElement("div",{className:"container"},a.default.createElement("h1",null,"Немає жодної стрічки!"),a.default.createElement(o.AddRow,{addRowHandle:e}))}catch(e){console.log(e.message)}})},346:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlParams=t.Html=void 0;var a=n(r(297));t.Html=function(e){var t=e.children,r=e.scripts,e=e.preloadedState;return a.default.createElement("html",null,a.default.createElement("head",null,a.default.createElement("meta",{charSet:"UTF-8"}),a.default.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"}),a.default.createElement("meta",{httpEquiv:"X-UA-Compatible",content:"ie=edge"}),a.default.createElement("title",null,"React Starter Pack")),a.default.createElement("body",null,a.default.createElement("div",{id:"root"},t),a.default.createElement("script",null,"window.__PRELOADED_STATE__ = `$",JSON.stringify(e).replace(/</g,"\\u003c"),"`"),r.map(function(e,t){return a.default.createElement("script",{src:e,key:t})})))},t.HtmlParams=function(e){var t=e.children,e=e.scripts;return a.default.createElement("html",null,a.default.createElement("head",null,a.default.createElement("meta",{charSet:"UTF-8"}),a.default.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1"}),a.default.createElement("meta",{httpEquiv:"X-UA-Compatible",content:"ie=edge"}),a.default.createElement("title",null,"React Starter Pack"),a.default.createElement("link",{rel:"stylesheet",href:"/main.css"})),a.default.createElement("body",null,a.default.createElement("div",{id:"root"},t),e.map(function(e,t){return a.default.createElement("script",{src:e,key:t})})))}},793:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(747)),t=n(r(127)),u=n(r(297)),o=n(r(250)),l=r(374),i=n(r(23)),c=r(346),s=r(561),d=r(79),f=r(246),m=n(r(835)),p=r(333),r=t.default(),v=[];a.default.readdirSync("./dist/assets").forEach(function(e){"js"===e.split(".").pop()&&v.push("/assets/"+e)}),r.use("/assets",t.default.static("./dist/assets")),r.get("*",function(e,t){var r,n,a;r=e,n=t,a=s.createStore(f.rootReducer),e=m.default.parse(r.url,!0).query,t=e.rows,e=e.columns,(parseInt(t)&&parseInt(e)?o.default.renderToNodeStream(u.default.createElement(c.Html,{scripts:v,preloadedState:a.getState()},u.default.createElement(d.Provider,{store:a},u.default.createElement(l.StaticRouter,{location:r.url,context:{}},u.default.createElement(i.default,null))))):o.default.renderToNodeStream(u.default.createElement(c.HtmlParams,{scripts:[]},u.default.createElement(p.FormParamsMatrix,null)))).pipe(n)}),r.listen(4e3,function(){return console.log("Listening on port 4000")})},76:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AddRow=void 0;var a=n(r(297));r(373);t.AddRow=function(e){e=e.addRowHandle;return a.default.createElement("div",{className:"addrRow-wrap"},a.default.createElement("button",{onClick:e},"Створити рядок"))}},486:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(297)),n=r(79),r={deleteRow:r(377).deleteRow};t.default=n.connect(null,r)(function(e){var t=e.footerClass,r=e.deleteRow,n=e.ind;return t?a.default.createElement(a.default.Fragment,null):a.default.createElement(a.default.Fragment,null,a.default.createElement("button",{onClick:function(e){r(n)}},"×"))})},333:function(e,t,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},l=this&&this.__awaiter||function(e,o,l,i){return new(l=l||Promise)(function(r,t){function n(e){try{u(i.next(e))}catch(e){t(e)}}function a(e){try{u(i.throw(e))}catch(e){t(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}u((i=i.apply(e,o||[])).next())})},i=this&&this.__generator||function(r,n){var a,u,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,u&&(o=2&t[0]?u.return:t[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,t[1])).done)return o;switch(u=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,u=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],u=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FormParamsMatrix=void 0;var c=u(r(297));r(692);var s=r(45);t.FormParamsMatrix=function(){var e=c.useState({rows:"",columns:""}),r=e[0],n=e[1],t=c.useState(""),e=t[0],a=t[1],u=s.useHttp().request,t=function(e){var t;n(o(o({},r),((t={})[e.target.name]=e.target.value,t)))};return c.default.createElement("div",{className:"form_params"},c.default.createElement("div",null,e),c.default.createElement("div",{className:"input-field"},c.default.createElement("label",{htmlFor:"rows"},"Стрічки:"),c.default.createElement("input",{placeholder:"Введіть кількість стрічок",id:"rows",type:"text",name:"rows",value:r.rows,onChange:t})),c.default.createElement("div",{className:"input-field"},c.default.createElement("label",{htmlFor:"columns"},"Стовбці:"),c.default.createElement("input",{placeholder:"Введіть кількість стовпчиків",id:"columns",type:"text",name:"columns",value:r.columns,onChange:t})),c.default.createElement("button",{onClick:function(){return l(void 0,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,u("/?rows="+r.rows+"&columns="+r.columns,"GET")];case 1:return t=e.sent(),a(t.message),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})}},"Відправити параметри матриці"))}},876:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(r(297)),u=r(79),i=o(r(704));r(71);t.default=u.connect(function(e){return{matrix:e.matrix.matrix}},null)(function(e){var t=e.matrix,r=l.useState(),e=r[0],n=r[1];function a(e){for(var t=[],r=0;r<e.length;r++)t[r]=l.default.createElement(i.default,{key:r,arrRow:e[r],ind:r,footerClass:""});return t[e.length]=l.default.createElement(i.default,{key:e.length,ind:e.length,arrRow:function(e){for(var t=[],r=e.length||0,n=e[0].length||0,a=0;a<n;a++){for(var u=0,o=0;o<r;o++)u+=e[o][a].amount;t[a]={id:"footer"+a,amount:Math.ceil(u/r)}}return t}(e),footerClass:"footer"}),t}return l.useEffect(function(){n(a(t))},[t]),l.default.createElement("div",{className:"matrix-wrap"},l.default.createElement("div",{className:"matrix-content"},l.default.createElement("h4",null,"Matrix ",t.length,"x",t[0].length),l.default.createElement("div",{className:"matrix-header"},"Сума по рядку"),e))})},704:function(e,t,r){var p=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=n(r(297)),a=r(79),h=n(r(486)),n=r(377),_=r(848);r(443);n={increaseAmount:n.increaseAmount,mouseOverCeil:n.mouseOverCeil,mouseOut:n.mouseOut,mouseOverSum:n.mouseOverSum};t.default=a.connect(function(e){return{matrix:e.matrix.matrix}},n)(function(e){function r(e){var t;"f"!==e.target.dataset.id[0]&&(t=+e.currentTarget.dataset.id.split("x")[0],e=+e.currentTarget.dataset.id.split("x")[1],c(t,e))}function n(e){var t,n;"f"!==e.target.dataset.id[0]&&"s"!==e.target.dataset.id[0]&&(t=+e.target.dataset.id.split("x")[0],e=+e.target.dataset.id.split("x")[1],function(e,t,r){for(var n=[],a=0,u=0;u<e.length;u++)for(var o=0;o<e[u].length;o++)n[a]=Object.assign({},e[u][o]),a++;n.sort(function(e,t){return e.amount-t.amount});for(var l,i=+n.findIndex(function(e){return e.amount===t.amount}),c=i-Math.ceil(r/2),s=i+Math.ceil(r/2);c<0;)c++,s++;for(;s>=n.length;)c--,s--;return r%2&&((l=n[c].amount-n[i].amount)!=(r=n[i].amount-n[s].amount)&&r<l?c++:s--),p(p([],n.slice(c,i)),n.slice(1+i,s+1))}(n=u.concat(),n[t][e],_.X).forEach(function(e){var t=+e.id.split("x")[0],r=+e.id.split("x")[1];e.bright=!e.bright,n[t][r]=Object.assign({},e)}),s(n))}function t(e){e.target.dataset.ind&&(e=u.concat(),i<e.length&&e[i].forEach(function(e){e.part=!e.part}),d(e))}function a(e){var t=u.concat();n(e),t.forEach(function(e){e.forEach(function(e){return e.bright=!1})}),f(t)}var u=e.matrix,o=e.arrRow,l=e.footerClass,i=e.ind,c=e.increaseAmount,s=e.mouseOverCeil,d=e.mouseOverSum,f=e.mouseOut,m=o.reduce(function(e,t){return e+t.amount},0),e=o.map(function(e){var t={height:2*Math.round(100*e.amount/m)+"%"};return v.default.createElement("div",{key:e.id,className:"matrix-ceil "+(l||"")+" "+(e.bright?"bright":"")+" "+(e.part?"part":""),"data-part":Math.round(100*e.amount/m)+"%","data-id":e.id,onClick:r,onMouseDown:function(e){e.preventDefault()},onMouseOver:n,onMouseOut:a},e.part?v.default.createElement("div",null,Math.round(100*e.amount/m)+"%"):e.amount,v.default.createElement("div",{style:t}))});return v.default.createElement("div",{className:"matrix-row"},v.default.createElement("div",{className:"matrix-ceil sidebar-row"},v.default.createElement(h.default,{footerClass:l,ind:i})),e,v.default.createElement("div",{className:"matrix-ceil sum","data-id":"sum","data-ind":i,onMouseOver:t,onMouseOut:t},m))})},848:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.X=t.N=t.M=void 0,t.M=5,t.N=10,t.X=3},45:function(e,t,r){var c=this&&this.__awaiter||function(e,o,l,i){return new(l=l||Promise)(function(r,t){function n(e){try{u(i.next(e))}catch(e){t(e)}}function a(e){try{u(i.throw(e))}catch(e){t(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}u((i=i.apply(e,o||[])).next())})},s=this&&this.__generator||function(r,n){var a,u,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,u&&(o=2&t[0]?u.return:t[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,t[1])).done)return o;switch(u=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,u=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],u=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHttp=void 0;var n=r(297);t.useHttp=function(){var e=n.useState(!1),t=e[0],l=e[1],r=n.useState(null),e=r[0],i=r[1];return{loading:t,request:n.useCallback(function(n,a,u,o){return void 0===a&&(a="GET"),void 0===u&&(u=null),void 0===o&&(o={}),c(void 0,void 0,void 0,function(){var t,r;return s(this,function(e){switch(e.label){case 0:l(!0),e.label=1;case 1:return e.trys.push([1,4,,5]),u&&(u=JSON.stringify(u),o["Content-Type"]="application/json"),[4,fetch(n,{method:a,body:u,headers:o})];case 2:return[4,(t=e.sent()).json()];case 3:if(r=e.sent(),!t.ok)throw new Error(r.message||"Дані з сервера не отримані ");return l(!1),[2,r];case 4:throw r=e.sent(),l(!1),i(r.message),r;case 5:return[2]}})})},[]),error:e,clearError:n.useCallback(function(){return i(null)},[])}}},377:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mouseOverSum=t.mouseOut=t.mouseOverCeil=t.increaseAmount=t.deleteRow=t.addRow=void 0;var n=r(209);t.addRow=function(e){return{type:n.ADD_ROW,payload:e}},t.deleteRow=function(e){return{type:n.DELETE_ROW,payload:e}},t.increaseAmount=function(e,t){return{type:n.INCREASE_AMOUNT,payload:{row:e,column:t}}},t.mouseOverCeil=function(e){return{type:n.MOUSE_OVER_CEIL,payload:e}},t.mouseOut=function(e){return{type:n.MOUSE_OUT,payload:e}},t.mouseOverSum=function(e){return{type:n.MOUSE_OVER_SUM,payload:e}}},226:function(e,t,r){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.matrixReducer=void 0;var s=r(209),u=r(848);var d={matrix:function(e,t){void 0===e&&(e=u.M),void 0===t&&(t=u.N);for(var r=[],n=0;n<e;n++)r[n]=function(e,t){void 0===e&&(e=u.N);for(var r=[],n=0;n<e;n++){var a=Math.floor(1001*Math.random());r[n]={id:t+"x"+n,amount:a,bright:!1,part:!1}}return r}(t,n);return r}()};t.matrixReducer=function(e,t){var r=(e=void 0===e?d:e).matrix.concat();switch(t.type){case s.ADD_ROW:return i(i({},e),{matrix:c(c([],e.matrix),[t.payload])});case s.DELETE_ROW:r.splice(t.payload,1);for(var n=t.payload;n<r.length;n++)for(var a=0;a<r[n].length;a++){var u=+r[n][a].id.split("x")[0];r[n][a].id=u-1+"x"+a}return i(i({},e),{matrix:c([],r)});case s.INCREASE_AMOUNT:var o=t.payload.row,l=t.payload.column;return r[o][l].amount=r[o][l].amount+1,i(i({},e),{matrix:c([],r)});case s.MOUSE_OVER_CEIL:case s.MOUSE_OUT:case s.MOUSE_OVER_SUM:return i(i({},e),{matrix:c([],t.payload)});default:return e}}},246:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=void 0;var n=r(561),r=r(226);t.rootReducer=n.combineReducers({matrix:r.matrixReducer})},209:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MOUSE_OUT=t.MOUSE_OVER_SUM=t.MOUSE_OVER_CEIL=t.INCREASE_AMOUNT=t.DELETE_ROW=t.ADD_ROW=void 0,t.ADD_ROW="ADD_ROW",t.DELETE_ROW="DELETE_ROW",t.INCREASE_AMOUNT="INCREASE_AMOUNT",t.MOUSE_OVER_CEIL="MOUSE_OVER_CEIL",t.MOUSE_OVER_SUM="MOUSE_OVER_SUM",t.MOUSE_OUT="MOUSE_OUT"},127:e=>{e.exports=require("express")},747:e=>{e.exports=require("fs")},297:e=>{e.exports=require("react")},250:e=>{e.exports=require("react-dom/server")},79:e=>{e.exports=require("react-redux")},374:e=>{e.exports=require("react-router")},561:e=>{e.exports=require("redux")},835:e=>{e.exports=require("url")}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,a),t.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};a(793)})();